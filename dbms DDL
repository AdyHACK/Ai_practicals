CREATE DATABASE PaymentDB;
USE PaymentDB;
CREATE TABLE payment_t (
    cust_id INT NOT NULL,
    amount INT CHECK (amount > 0),
    mode VARCHAR(20) CHECK (mode IN ('online', 'offline')),
    payment_id INT PRIMARY KEY
);
ALTER TABLE payment_t ADD payment_date DATE;
ALTER TABLE payment_t MODIFY amount DECIMAL(10,2);
ALTER TABLE payment_t CHANGE mode payment_mode VARCHAR(20);
CREATE VIEW online_payments AS
SELECT * FROM payment_t WHERE payment_mode = 'online';
CREATE INDEX idx_amount ON payment_t(amount);
ALTER TABLE payment_t DROP COLUMN payment_date;
DROP TABLE payment_t;
